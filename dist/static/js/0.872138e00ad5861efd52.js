webpackJsonp([0],{"9q2A":function(t,a){},pRJt:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("XLwt"),n=e.n(s),o={name:"Dashboard",data:function(){var t=this;return{date:"",statusCounts:0,LabelStart:0,LabelEnd:0,statusExtend:{legend:{show:!1},tooltip:{formatter:function(a){return"<div><span style='font-weight: bold;'>"+a[0].name+"</span><br>"+a[0].seriesName+": "+a[0].data+"<br>百分比: "+(t.statusCounts?(1*a[0].data/t.statusCounts*100).toFixed(2)+"%":"0%")+"</div>"}}},statusTitle:{top:10,x:"center",text:"状态统计"},statusSettings:{metrics:["统计量"],itemStyle:{normal:{color:new n.a.graphic.LinearGradient(1,0,0,0,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{color:new n.a.graphic.LinearGradient(1,0,0,0,[{offset:0,color:"#2378f7"},{offset:.5,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},label:{show:!0,position:"insideLeft"}},statusData:{columns:["name","统计量"],rows:[]},statusOptions:["待解决","解决中","已解决","待改进","改进中","已改进"],LabelCounts:0,LabelExtend:{legend:{show:!1},tooltip:{formatter:function(a){return"<div><span style='font-weight: bold;'>"+a[0].name+"</span><br>"+a[0].seriesName+": "+a[0].data+"<br>百分比: "+(t.LabelCounts?(1*a[0].data/t.LabelCounts*100).toFixed(2)+"%":"0%")+"</div>"}},grid:{right:40}},LabelTitle:{top:10,x:"center",text:"标签统计"},LabelSettings:{metrics:["统计量"],itemStyle:{normal:{color:new n.a.graphic.LinearGradient(1,0,0,0,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{color:new n.a.graphic.LinearGradient(1,0,0,0,[{offset:0,color:"#2378f7"},{offset:.5,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},label:{show:!0,position:"insideLeft"}},LabelData:{columns:["name","统计量"],rows:[]},dataZoom:[{type:"inside",yAxisIndex:[0],startValue:0,endValue:5},{type:"slider",show:!0,yAxisIndex:[0]}]}},created:function(){var t=this;this.$store.dispatch("getStatus").then(function(a){t.statusCounts=a.data.count||0,t.statusOptions.forEach(function(e,s){t.statusData.rows.push({name:e,"统计量":a.data.data[e]?a.data.data[e]:0})})}),this.$store.dispatch("getLabelCounts").then(function(a){t.LabelCounts=a.data.count||0,t.LabelsOptions.forEach(function(e,s){t.LabelData.rows.push({name:e,"统计量":a.data.data[e]?a.data.data[e]:0})}),t.LabelData.rows.sort(function(t,a){return a["统计量"]-t["统计量"]})})},methods:{search:function(){var t=this;this.date.length>0&&(this.statusData.rows=[],this.$store.dispatch("getStatus",{startTime:this.date[0],endTime:this.date[1]}).then(function(a){t.statusCounts=a.data.count||0,t.statusOptions.forEach(function(e,s){t.statusData.rows.push({name:e,"统计量":a.data.data[e]?a.data.data[e]:0})})}),this.LabelData.rows=[],this.$store.dispatch("getLabelCounts",{startTime:this.date[0],endTime:this.date[1]}).then(function(a){t.LabelCounts=a.data.count||0,t.LabelsOptions.forEach(function(e,s){t.LabelData.rows.push({name:e,"统计量":a.data.data[e]?a.data.data[e]:0})}),t.LabelData.rows.sort(function(t,a){return a["统计量"]-t["统计量"]})}))},reset:function(){var t=this;this.date=[],this.statusData.rows=[],this.$store.dispatch("getStatus").then(function(a){t.statusCounts=a.data.count||0,t.statusOptions.forEach(function(e,s){t.statusData.rows.push({name:e,"统计量":a.data.data[e]?a.data.data[e]:0})})}),this.LabelData.rows=[],this.$store.dispatch("getLabelCounts").then(function(a){t.LabelCounts=a.data.count||0,t.LabelsOptions.forEach(function(e,s){t.LabelData.rows.push({name:e,"统计量":a.data.data[e]?a.data.data[e]:0})}),t.LabelData.rows.sort(function(t,a){return a["统计量"]-t["统计量"]})})}},computed:{LabelsOptions:function(){return this.$store.getters.Labels}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"Dashboard"}},[e("div",{staticClass:"Dashboard-header"},[e("div",{staticClass:"searchForm"},[e("span",{staticStyle:{"margin-right":"20px"}},[t._v("时间范围")]),e("el-date-picker",{attrs:{type:"daterange","value-format":"timestamp","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.date,callback:function(a){t.date=a},expression:"date"}}),e("el-button",{staticStyle:{"margin-left":"20px","margin-right":"2px"},attrs:{type:"primary"},nativeOn:{click:function(a){return t.search(a)}}},[t._v("查询")]),e("el-button",{attrs:{type:"info"},nativeOn:{click:function(a){return t.reset(a)}}},[t._v("重置")])],1)]),t._v(" "),e("div",{staticClass:"Dashboard-content"},[e("div",{staticClass:"statusData"},[e("ve-bar",{attrs:{data:t.statusData,title:t.statusTitle,extend:t.statusExtend,settings:t.statusSettings}})],1),e("div",{staticClass:"LabelData"},[e("ve-bar",{attrs:{data:t.LabelData,"data-zoom":t.dataZoom,title:t.LabelTitle,extend:t.LabelExtend,settings:t.LabelSettings}})],1)])])},staticRenderFns:[]};var r=e("VU/8")(o,i,!1,function(t){e("9q2A")},null,null);a.default=r.exports}});
//# sourceMappingURL=0.872138e00ad5861efd52.js.map